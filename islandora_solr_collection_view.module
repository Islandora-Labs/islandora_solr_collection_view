<?php

/**
 * @file
 * Provides a Collection View.
 */


/**
 * Implements hook_views_api().
 */
function islandora_solr_collection_view_views_api() {
  return array(
    'api' => '3.0',
  );
}

/**
 * Implements hook_theme().
 */
function islandora_solr_collection_view_theme() {
  $path = drupal_get_path('module', 'islandora_solr_collection_view');
  $file = 'theme.inc';

  return array(
    'islandora_solr_teaser' => array(
      'path' => $path . '/theme',
      'file' => $file,
      'template' => 'islandora-solr-teaser',
      'variables' => array(
        'values' => array(),
      ),
    ),
  );
  // Results page.

}

/**
 * Implements hook_CMODEL_PID_islandora_view_object().
 */

function islandora_solr_collection_view_islandora_collectionCModel_islandora_view_object(AbstractObject $object) {
  // TODO: render the block so that it has contextual menus.
  $view = views_embed_view('collection', 'block', 'info:fedora/' . $object->id);
  $view = render($view);
  return array(
    'collection_view' => $view,
  );
}